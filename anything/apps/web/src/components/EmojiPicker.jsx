import React, { useEffect, useRef, useState } from "react";
import { Smile } from "lucide-react";

  const EMOJI_CATEGORIES = {
    Smileys: [
      "\u{1F600}",
      "\u{1F603}",
      "\u{1F604}",
      "\u{1F601}",
      "\u{1F605}",
      "\u{1F602}",
      "\u{1F923}",
      "\u{1F60A}",
      "\u{1F607}",
      "\u{1F642}",
      "\u{1F643}",
      "\u{1F609}",
      "\u{1F60C}",
      "\u{1F60D}",
      "\u{1F970}",
      "\u{1F618}",
      "\u{1F617}",
      "\u{1F619}",
      "\u{1F61A}",
      "\u{1F60B}",
      "\u{1F61B}",
      "\u{1F61D}",
      "\u{1F61C}",
      "\u{1F92A}",
      "\u{1F928}",
      "\u{1F9D0}",
      "\u{1F913}",
      "\u{1F60E}",
      "\u{1F973}",
      "\u{1F60F}",
      "\u{1F612}",
      "\u{1F61E}",
      "\u{1F614}",
      "\u{1F61F}",
      "\u{1F615}",
      "\u{1F641}",
      "\u2639\uFE0F",
      "\u{1F623}",
      "\u{1F616}",
      "\u{1F62B}",
      "\u{1F629}",
      "\u{1F97A}",
      "\u{1F622}",
      "\u{1F62D}",
      "\u{1F624}",
      "\u{1F620}",
      "\u{1F621}",
      "\u{1F92C}",
      "\u{1F92F}",
      "\u{1F633}",
      "\u{1F975}",
      "\u{1F976}",
      "\u{1F631}",
      "\u{1F628}",
      "\u{1F630}",
      "\u{1F625}",
      "\u{1F613}"
    ],
    Gestures: [
      "\u{1F44B}",
      "\u{1F91A}",
      "\u{1F590}",
      "\u270B",
      "\u{1F596}",
      "\u{1F44C}",
      "\u{1F90C}",
      "\u{1F90F}",
      "\u270C\uFE0F",
      "\u{1F91E}",
      "\u{1F91F}",
      "\u{1F918}",
      "\u{1F919}",
      "\u{1F448}",
      "\u{1F449}",
      "\u{1F446}",
      "\u{1F595}",
      "\u{1F447}",
      "\u261D\uFE0F",
      "\u{1F44D}",
      "\u{1F44E}",
      "\u270A",
      "\u{1F44A}",
      "\u{1F91B}",
      "\u{1F91C}",
      "\u{1F44F}",
      "\u{1F64C}",
      "\u{1F450}",
      "\u{1F932}",
      "\u{1F91D}",
      "\u{1F64F}",
      "\u{1F4AA}",
      "\u{1F9BE}",
      "\u{1F9BF}",
      "\u{1F9B5}",
      "\u{1F9B6}"
    ],
    Hearts: [
      "\u2764\uFE0F",
      "\u{1F9E1}",
      "\u{1F49B}",
      "\u{1F49A}",
      "\u{1F499}",
      "\u{1F49C}",
      "\u{1F5A4}",
      "\u{1F90D}",
      "\u{1F90E}",
      "\u{1F494}",
      "\u2763\uFE0F",
      "\u{1F495}",
      "\u{1F49E}",
      "\u{1F493}",
      "\u{1F497}",
      "\u{1F496}",
      "\u{1F498}",
      "\u{1F49D}",
      "\u{1F49F}"
    ],
    Objects: [
      "\u{1F4BC}",
      "\u{1F4F1}",
      "\u{1F4BB}",
      "\u2328\uFE0F",
      "\u{1F5A5}",
      "\u{1F5A8}",
      "\u{1F5B1}",
      "\u{1F5B2}",
      "\u{1F579}",
      "\u{1F5DC}",
      "\u{1F4BE}",
      "\u{1F4BF}",
      "\u{1F4C0}",
      "\u{1F4FC}",
      "\u{1F4F7}",
      "\u{1F4F8}",
      "\u{1F4F9}",
      "\u{1F3A5}",
      "\u{1F4FD}",
      "\u{1F39E}",
      "\u{1F4DE}",
      "\u260E\uFE0F",
      "\u{1F4DF}",
      "\u{1F4E0}",
      "\u{1F4FA}",
      "\u{1F4FB}",
      "\u{1F399}",
      "\u{1F39A}",
      "\u{1F39B}",
      "\u23F1",
      "\u23F2",
      "\u23F0",
      "\u{1F570}",
      "\u231B\uFE0F",
      "\u23F3",
      "\u{1F4E1}",
      "\u{1F50B}",
      "\u{1F50C}",
      "\u{1F4A1}",
      "\u{1F526}",
      "\u{1F56F}",
      "\u{1FA94}",
      "\u{1F9EF}",
      "\u{1F6E2}"
    ],
    Symbols: [
      "\u{1F4AF}",
      "\u{1F525}",
      "\u2728",
      "\u{1F31F}",
      "\u2B50\uFE0F",
      "\u{1F320}",
      "\u{1F4AB}",
      "\u2714\uFE0F",
      "\u2705",
      "\u274C",
      "\u274E",
      "\u2795",
      "\u2796",
      "\u2797",
      "\u2716\uFE0F",
      "\u267E",
      "\u203C\uFE0F",
      "\u2049\uFE0F",
      "\u2753",
      "\u2754",
      "\u2755",
      "\u2757\uFE0F",
      "\u3030\uFE0F",
      "\u{1F4B1}",
      "\u{1F4B2}",
      "\u26A0\uFE0F",
      "\u{1F6B8}",
      "\u{1F531}",
      "\u269C\uFE0F",
      "\u{1F530}",
      "\u267B\uFE0F",
      "\u2733\uFE0F",
      "\u2747\uFE0F",
      "\u{1F4A0}",
      "\u{1F537}",
      "\u{1F536}",
      "\u{1F538}",
      "\u{1F539}",
      "\u{1F53A}",
      "\u{1F53B}",
      "\u{1F49F}"
    ],
    Food: [
      "\u{1F355}",
      "\u{1F354}",
      "\u{1F35F}",
      "\u{1F32D}",
      "\u{1F37F}",
      "\u{1F9C8}",
      "\u{1F9C7}",
      "\u{1F953}",
      "\u{1F95A}",
      "\u{1F373}",
      "\u{1F9C6}",
      "\u{1F958}",
      "\u{1F372}",
      "\u{1F963}",
      "\u{1F957}",
      "\u{1F37F}",
      "\u{1F9C8}",
      "\u{1F9C2}",
      "\u{1F96B}",
      "\u{1F371}",
      "\u{1F358}",
      "\u{1F359}",
      "\u{1F35A}",
      "\u{1F35B}",
      "\u{1F35C}",
      "\u{1F35D}",
      "\u{1F360}",
      "\u{1F362}",
      "\u{1F363}",
      "\u{1F364}",
      "\u{1F365}",
      "\u{1F96E}",
      "\u{1F361}",
      "\u{1F95F}",
      "\u{1F960}",
      "\u{1F961}",
      "\u{1F980}",
      "\u{1F99E}",
      "\u{1F990}",
      "\u{1F991}",
      "\u{1F9AA}",
      "\u{1F366}",
      "\u{1F367}",
      "\u{1F368}",
      "\u{1F369}",
      "\u{1F36A}",
      "\u{1F382}",
      "\u{1F370}",
      "\u{1F9C1}",
      "\u{1F967}",
      "\u{1F36B}",
      "\u{1F36C}",
      "\u{1F36D}"
    ]
  };
  export function EmojiPicker({ onEmojiSelect }) {
    const [isOpen, setIsOpen] = useState(false);
    const [activeCategory, setActiveCategory] = useState("Smileys");
    const pickerRef = useRef(null);
    useEffect(() => {
      function handleClickOutside(event) {
        if (pickerRef.current && !pickerRef.current.contains(event.target)) {
          setIsOpen(false);
        }
      }
      if (isOpen) {
        document.addEventListener("mousedown", handleClickOutside);
      }
      return () => {
        document.removeEventListener("mousedown", handleClickOutside);
      };
    }, [isOpen]);
    const handleEmojiClick = (emoji) => {
      onEmojiSelect(emoji);
      setIsOpen(false);
    };
    return /* @__PURE__ */ React.createElement("div", { className: "relative", ref: pickerRef }, /* @__PURE__ */ React.createElement(
      "button",
      {
        type: "button",
        onClick: () => setIsOpen(!isOpen),
        className: "w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-lg text-gray-600 transition-colors",
        title: "Insert emoji"
      },
      /* @__PURE__ */ React.createElement(Smile, { size: 18 })
    ), isOpen && /* @__PURE__ */ React.createElement(
      "div",
      {
        className: "absolute top-full right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 z-50",
        style: { width: "320px" }
      },
      /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1 px-2 py-2 border-b border-gray-100 overflow-x-auto" }, Object.keys(EMOJI_CATEGORIES).map((category) => /* @__PURE__ */ React.createElement(
        "button",
        {
          key: category,
          type: "button",
          onClick: () => setActiveCategory(category),
          className: `px-3 py-1.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap ${activeCategory === category ? "bg-gray-900 text-white" : "text-gray-600 hover:bg-gray-100"}`
        },
        category
      ))),
      /* @__PURE__ */ React.createElement("div", { className: "p-3 grid grid-cols-8 gap-1 max-h-64 overflow-y-auto" }, EMOJI_CATEGORIES[activeCategory].map((emoji, index) => /* @__PURE__ */ React.createElement(
        "button",
        {
          key: index,
          type: "button",
          onClick: () => handleEmojiClick(emoji),
          className: "w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded transition-colors text-xl",
          title: emoji
        },
        emoji
      )))
    ));
  }

export default EmojiPicker;
