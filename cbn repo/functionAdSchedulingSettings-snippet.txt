pacity-50 disabled:cursor-not-allowed transition-colors\"\n      },\n      checkingReminders ? \"Checking...\" : \"Check Reminders Now\"\n    ))));\n  }\n\n  // virtual:/apps/web/src/components/AdSchedulingSettings.jsx\n  init_injected_globals();\n  var import_react67 = __toESM(require_react());\n  function AdSchedulingSettings() {\n    const [maxAdsPerDay, setMaxAdsPerDay] = (0, import_react67.useState)(5);\n    const [loading, setLoading] = (0, import_react67.useState)(true);\n    const [saving, setSaving] = (0, import_react67.useState)(false);\n    const [error, setError] = (0, import_react67.useState)(null);\n    const [success, setSuccess] = (0, import_react67.useState)(false);\n    (0, import_react67.useEffect)(() =\u003e {\n      fetchSettings();\n    }, []);\n    const fetchSettings = async () =\u003e {\n      try {\n        const response = await fetch(\"/api/admin/settings\");\n        if (!response.ok) throw new Error(\"Failed to fetch settings\");\n        const data = await response.json();\n        setMaxAdsPerDay(data.settings.max_ads_per_day);\n      } catch (err) {\n        console.error(\"Error fetching settings:\", err);\n        setError(\"Failed to load settings\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    const handleSave = async () =\u003e {\n      if (maxAdsPerDay \u003c 1) {\n        setError(\"Maximum ads per day must be at least 1\");\n        return;\n      }\n      setSaving(true);\n      setError(null);\n      setSuccess(false);\n      try {\n        const response = await fetch(\"/api/admin/settings\", {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ max_ads_per_day: parseInt(maxAdsPerDay) })\n        });\n        if (!response.ok) {\n          const data = await response.json();\n          throw new Error(data.error || \"Failed to update settings\");\n        }\n        setSuccess(true);\n        setTimeout(() =\u003e setSuccess(false), 3e3);\n      } catch (err) {\n        console.error(\"Error saving settings:\", err);\n        setError(err.message || \"Failed to save settings\");\n      } finally {\n        setSaving(false);\n      }\n    };\n    if (loading) {\n      return /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-white rounded-lg border border-gray-200 p-6\" }, /* @__PURE__ */ React.createElement(\"p\", { className: \"text-gray-600\" }, \"Loading...\"));\n    }\n    return /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-white rounded-lg border border-gray-200 p-6\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"mb-6\" }, /* @__PURE__ */ React.createElement(\"h2\", { className: \"text-lg font-semibold text-gray-900 mb-1\" }, \"Ad Scheduling\"), /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-gray-500\" }, \"Configure scheduling limits for ad submissions\")), error \u0026\u0026 /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4\" }, error), success \u0026\u0026 /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4\" }, \"Settings saved successfully!\"), /* @__PURE__ */ React.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(\"label\", { className: \"block text-sm font-medium text-gray-700 mb-2\" }, \"Maximum Ads Per Day\"), /* @__PURE__ */ React.createElement(\"div\", { className: \"flex items-center gap-4\" }, /* @__PURE__ */ React.createElement(\n      \"input\",\n      {\n        type: \"number\",\n        min: \"1\",\n        value: maxAdsPerDay,\n        onChange: (e) =\u003e setMaxAdsPerDay(e.target.value),\n        className: \"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n      }\n    ), /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-gray-500\" }, \"Maximum number of ads that can be scheduled for a single day\"))), /* @__PURE__ */ React.createElement(\"div\", { className: \"pt-4 border-t border-gray-200\" }, /* @__PURE__ */ React.createElement(\n      \"button\",\n      {\n        onClick: handleSave,\n        disabled: saving,\n        className: \"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\"\n      },\n      saving ? \"Saving...\" : \"Save Changes\"\n    ))));\n  }\n\n  // virtual:/apps/web/src/components/SystemSettings.jsx\n  init_injected_globals();\n  var import_react68 = __toESM(require_react());\n  function SystemSettings() {\n    const [syncing, setSyncing] = (0, import_react68.useState)(false);\n    const [syncResult, setSyncResult] = (0, import_react68.useState)(null);\n    const [error, setError] = (0, import_react68.useState)(null);\n    const handleSync = async () =\u003e {\n      setSyncing(true);\n      setError(null);\n      setSyncResult(null);\n      try {\n        const response = await fetch(\"/api/admin/fix-all-spending\", {\n          method: \"POST\"\n        });\n        if (!response.ok) {\n          throw new Error(\n            `When syncing advertiser spending, the response was [${response.status}] ${response.statusText}`\n          );\n        }\n        const data = await response.json();\n        setSyncResult(data);\n      } catch (err) {\n        console.error(err);\n        setError(\"Failed to sync advertiser spending\");\n      } finally {\n        setSyncing(false);\n      }\n    };\n    return /* @__PURE__ */ React.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-white rounded-lg border border-gray-200 p-6\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"mb-4\" }, /* @__PURE__ */ React.createElement(\"h3\", { className: \"text-lg font-medium text-gray-900 mb-1\" }, \"Sync Advertiser Spending\"), /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-gray-500\" }, 'Recalculate total_spend for all advertisers based on their \"Paid\" invoices. This is useful if you notice any discrepancies in spending totals.')), /* @__PURE__ */ React.createElement(\n      \"button\",\n      {\n        onClick: handleSync,\n        disabled: syncing,\n        className: \"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm font-medium\"\n      },\n      syncing ? \"Syncing...\" : \"Run Sync Now\"\n    ), syncResult \u0026\u0026 /* @__PURE__ */ React.createElement(\"div\", { className: \"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\" }, /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm font-medium text-green-900 mb-2\" }, syncResult.message), syncResult.results \u0026\u0026 syncResult.results.length \u003e 0 \u0026\u0026 /* @__PURE__ */ React.createElement(\"div\", { className: \"mt-2 max-h-[200px] overflow-y-auto\" }, /* @__PURE__ */ React.createElement(\"table\", { className: \"w-full text-xs\" }, /* @__PURE__ */ React.createElement(\"thead\", { className: \"bg-green-100\" }, /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"th\", { className: \"text-left px-2 py-1 text-green-900\" }, \"Advertiser\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"text-right px-2 py-1 text-green-900\" }, \"New Total Spend\"))), /* @__PURE__ */ React.createElement(\"tbody\", null, syncResult.results.map((result) =\u003e /* @__PURE__ */ React.createElement(\"tr\", { key: result.id, className: \"border-t border-green-200\" }, /* @__PURE__ */ React.createElement(\"td\", { className: \"px-2 py-1 text-green-800\" }, result.name), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-2 py-1 text-right text-green-800\" }, \"$\", parseFloat(result.newTotal).toFixed(2)))))))), error \u0026\u0026 /* @__PURE__ */ React.createElement(\"div\", { className: \"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\" }, /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-red-800\" }, error))));\n  }\n\n  // virtual:/apps/web/src/components/SettingsPage.jsx\n  function SettingsPage() {\n    const [activeTab, setActiveTab] = (0, import_react69.useState)(\"profile\");\n    const tabs = [\n      { id: \"profile\", label: \"Profile\" },\n      { id: \"team\", label: \"Team\" },\n      { id: \"notifications\", label: \"Notifications\" },\n      { id: \"scheduling\", label: \"Ad Scheduling\" },\n      { id: \"billing\", label: \"Billing\" },\n      { id: \"system\", label: \"System\" }\n    ];\n    return /* @__PURE__ */ React.createElement(\"div\", { className: \"flex-1 overflow-auto bg-gray-50\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"max-w-[1200px] mx-auto py-10 px-8\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"mb-8\" }, /* @__PURE__ */ React.createElement(\"h1\", { className: \"text-2xl font-semibold text-gray-900 mb-2\" }, \"Settings\"), /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-gray-500\" }, \"Manage your account settings and team members\")), /* @__PURE__ */ React.createElement(\"div\", { className: \"border-b border-gray-200 mb-8\" }, /* @__PURE__ */ React.createElement(\"nav\", { className: \"flex gap-8\" }, tabs.map((tab) =\u003e /* @__PURE__ */ React.createElement(\n      \"button\",\n      {\n        key: tab.id,\n        onClick: () =\u003e setActiveTab(tab.id),\n        className: `pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${activeTab === tab.id ? \"border-gray-900 text-gray-900\" : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"}`\n      },\n      tab.label\n    )))), /* @__PURE__ */ React.createElement(\"div\", null, activeTab === \"profile\" \u0026\u0026 /* @__PURE__ */ React.createElement(ProfileSettings, null), activeTab === \"team\" \u0026\u0026 /* @__PURE__ */ React.createElement(TeamSettings, null), activeTab === \"notifications\" \u0026\u0026 /* @__PURE__ */ React.createElement(NotificationSettings, null), activeTab === \"scheduling\" \u0026\u0026 /* @__PURE__ */ React.createElement(AdSchedulingSettings, null), activeTab === \"billing\" \u0026\u0026 /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-white rounded-lg border border-gray-200 p-6\" }, /* @__PURE__ */ React.createElement(\"p\", { className: \"text-gray-600\" }, \"Billing settings coming soon...\")), activeTab === \"system\" \u0026\u0026 /* @__PURE__ */ React.createElement(SystemSettings, null))));\n  }\n\n  // virtual:/apps/web/src/components/PendingSubmissionsList.jsx\n  init_injected_globals();\n  var import_react71 = __toESM(require_react());\n\n  // virtual:/apps/web/src/hooks/usePendingAds.js\n  init_injected_globals();\n  var import_react70 = __toESM(require_react());\n  function usePendingAds() {\n    const [pendingAds, setPendingAds] = (0, import_react70.useState)([]);\n    const [loading, setLoading] = (0, import_react70.useState)(true);\n    const [error, setError] = (0, import_react70.useState)(null);\n    const [processingId, setProcessingId] = (0, import_react70.useState)(null);\n    const fetchPendingAds = async () =\u003e {\n      try {\n        const response = await fetch(\"/api/admin/pending-ads/list\");\n        if (!response.ok) throw new Error(\"Failed to fetch pending ads\");\n        const data = await response.json();\n        setPendingAds(data.pending_ads);\n      } catch (err) {\n        console.error(\"Error fetching pending ads:\", err);\n        setError(\"Failed to load submissions\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    (0, import_react70.useEffect)(() =\u003e {\n      fetchPendingAds();\n    }, []);\n    const checkForDuplicateAdvertiser = async (email) =\u003e {\n      try {\n        const response = await fetch(\"/api/advertisers/list\");\n        if (!response.ok) return null;\n        const data = await response.json();\n        const existing = data.advertisers.find((adv) =\u003e adv.email === email);\n        return existing || null;\n      } catch (err) {\n        console.error(\"Error checking for duplicate:\", err);\n        return null;\n      }\n    };\n    const handleApprove = async (pendingAdId, useExisting = false, existingAdvertiserId = null) =\u003e {\n      setProcessingId(pendingAdId);\n      try {\n        const response = await fetch(\"/api/admin/pending-ads/approve\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            pending_ad_id: pendingAdId,\n            use_existing_advertiser: useExisting,\n            existing_advertiser_id: existingAdvertiserId\n          })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.error || \"Failed to approve ad\");\n        }\n        console.log(\"Ad approved successfully:\", data);\n        await fetchPendingAds();\n        setError(null);\n        return { success: true };\n      } catch (err) {\n        console.error(\"Error approving ad:\", err);\n        setError(err.message || \"Failed to approve ad\");\n        return { success: false, error: err.message };\n      } finally {\n        setProcessingId(null);\n      }\n    };\n    const handleReject = async (id) =\u003e {\n      setProcessingId(id);\n      try {\n        const response = await fetch(\"/api/admin/pending-ads/reject\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ pending_ad_id: id })\n        });\n        if (!response.ok) throw new Error(\"Failed to reject ad\");\n        await fetchPendingAds();\n      } catch (err) {\n        console.error(\"Error rejecting ad:\", err);\n        setError(\"Failed to reject ad\");\n      } finally {\n        setProcessingId(null);\n      }\n    };\n    const handleDelete = async (id) =\u003e {\n      setProcessingId(id);\n      try {\n        const response = await fetch(`/api/admin/pending-ads/${id}`, {\n          method: \"DELETE\"\n        });\n        if (!response.ok) throw new Error(\"Failed to delete ad\");\n        await fetchPendingAds();\n        return { success: true };\n      } catch (err) {\n        console.error(\"Error deleting ad:\", err);\n        setError(\"Failed to delete ad\");\n        return { success: false };\n      } finally {\n        setProcessingId(null);\n      }\n    };\n    const handleUpdate = async (id, formData) =\u003e {\n      setProcessingId(id);\n      try {\n        const response = await fetch(`/api/admin/pending-ads/${id}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData)\n        });\n        if (!response.ok) {\n          const data = await response.json();\n          throw new Error(data.error || \"Failed to update submission\");\n        }\n        await fetchPendingAds();\n        setError(null);\n        return { success: true };\n      } catch (err) {\n        console.error(\"Error updating submission:\", err);\n        setError(err.message || \"Failed to update submission\");\n        return { success: false, error: err.message };\n      } finally {\n        setProcessingId(null);\n      }\n    };\n    return {\n      pendingAds,\n      loading,\n      error,\n      processingId,\n      checkForDuplicateAdvertiser,\n      handleApprove,\n      handleReject,\n      handleDelete,\n      handleUpdate\n    };\n  }\n\n  // virtual:/apps/web/src/components/PendingSubmissionsList/PageHeader.jsx\n  init_injected_globals();\n  function PageHeader2() {\n    return /* @__PURE__ */ React.createElement(\"div\", { className: \"mb-6\" }, /* @__PURE__ */ React.createElement(\"h1\", { className: \"text-2xl font-semibold text-gray-900 mb-1\" }, \"Submissions\"), /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-gray-500\" }, \"Review and approve advertising requests from clients\"));\n  }\n\n  // virtual:/apps/web/src/components/PendingSubmissionsList/LoadingState.jsx\n  init_injected_globals();\n  function LoadingState2() {\n    return /* @__PURE__ */ React.createElement(\"div\", { className: \"p-8\" }, /* @__PURE__ */ React.createElement(PageHeader2, null), /* @__PURE__ */ React.createElement(\"div\", { className: \"bg-white border border-gray-200 rounded-lg p-8 text-center\" }, /* @__PURE__ */ React.createElement(\"p\", { className: \"text-gray-500\" }, \"Loading submissions...\")));\n  }\n\n  // virtual:/apps/web/src/components/PendingSubmissionsList/SubmissionsTable.jsx\n  init_injected_globals();\n  var import_lucide_react25 = __toESM(require_lucide_react());\n\n  // virtual:/apps/web/src/utils/dateUtils.js\n  init_injected_globals();\n  var formatDate3 = (dateStr) =\u003e {\n    if (!dateStr) return \"\";\n    if (dateStr instanceof Date) {\n      const m = String(dateStr.getMonth() + 1).padStart(2, \"0\");\n      const d = String(dateStr.getDate()).padStart(2, \"0\");\n      const y = dateStr.getFullYear();\n      return `${m}/${d}/${y}`;\n    }\n    let datePart;\n    if (typeof dateStr === \"string\") {\n      datePart = dateStr.split(\"T\")[0].split(\" \")[0];\n    } else {\n      datePart = String(dateStr);\n    }\n    const [year, month, day] = datePart.split(\"-\");\n    if (!year || !month || !day) return \"\";\n    return `${month}/${day}/${year}`;\n  };\n\n  // virtual:/apps/web/src/components/PendingSubmissionsList/SubmissionsTable.jsx\n  var getStatusBadge = (status) =\u003e {\n    const styles = {\n      pending: \"bg-yellow-100 text-yellow-800\",\n      approved: \"bg-green-100 text-green-800\",\n      not_approved: \"bg-red-100 text-red-800\"\n    };\n    return /* @__PURE__ */ React.createElement(\n      \"span\",\n      {\n        className: `px-3 py-1 rounded-full text-xs font-medium ${styles[status] || \"\"}`\n      },\n      status.replace(\"_\", \" \").toUpperCase()\n    );\n  };\n  function SubmissionsTable({\n    pendingAds,\n    processingId,\n    onView,\n    onEdit,\n    onApprove,\n    onReject,\n    onDelete\n  }) {\n    if (pendingAds.length === 0) {\n      return /* @__PURE__ */ React.createElement(\"div\", { className: \"text-center py-12 text-gray-500\" }, \"No submissions\");\n    }\n    return /* @__PURE__ */ React.createElement(\"div\", { className: \"overflow-x-auto\" }, /* @__PURE__ */ React.createElement(\"table\", { className: \"w-full\" }, /* @__PURE__ */ React.createElement(\"thead\", { className: \"bg-gray-50 border-b border-gray-200\" }, /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Status\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Ad Name\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Advertiser\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Email\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Post Type\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Submitted\"), /* @__PURE__ */ React.createElement(\"th\", { className: \"px-6 py-3 text-left text-[11px] font-semibold text-gray-700 uppercase\" }, \"Actions\"))), /* @__PURE__ */ React.createElement(\"tbody\", { className: \"divide-y divide-gray-200\" }, pendingAds.map((ad) =\u003e /* @__PURE__ */ React.createElement(\"tr\", { key: ad.id, className: \"hover:bg-gray-50\" }, /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5\" }, getStatusBadge(ad.status)), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5 font-medium text-gray-900 text-xs\" }, ad.ad_name), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5 text-gray-600 text-xs\" }, ad.advertiser_name), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5 text-gray-600 text-xs\" }, ad.email), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5 text-gray-600 text-xs\" }, ad.post_type), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5 text-gray-600 text-xs\" }, formatDate3(ad.created_at)), /* @__PURE__ */ React.createElement(\"td\", { className: \"px-6 py-3.5\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"flex gap-2\" }, /* @__PURE__ */ React.createElement(\n      \"button\",\n      {\n        onClick: () =\u003e onView(ad),\n        className: \"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors\",\n        title: \"View Details\"\n      },\n      /* @__PURE__ */ React.createElement(import_lucide_react25.Eye, { size: 16 })\n    ), ad.status === \"pending\" \u0026\u0026 /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      \"button\",\n      {\n        onClick: () =\u003e onEdit(ad),\n        className: \"p-1.5 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors\",\n        title: \"Edit Submission\"\n      },\n      /* @__PURE__ */ React.createElement(import_lucide_react25.Pencil, { size: 16 })\n    ), /* @__PURE__ */ React.createElement(\n      \"button\",\n      {\n        onClick: () =\u003e onApprove(ad),\n        disabled: processingId === ad.id,\n        className: \"px-2.5 py-1 bg-black text-white rounded hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:text-gray-300 text-xs f
